## 面试题2：实现Singleton模式
题目：设计一个类，我们只能生成该类的一个实例。

### 分析
**不好的解法一：只适用于单线程环境(单线程)**

由于要求只能生产一个实例,因此我们必须把构造函数设为私有函数以禁止他人创建实例。可以定义一个静态的实例，在需要的时候创建该实例。

代码见Singleton_1.java

在静态属性Instance中，只有在instance为null的时候才创建一个实例一避免重复创建。同时把构造函数定义为私有函数，这样就能确保只创建一个实例。

**不好的解法二：虽然在多线程环境中能工作但效率不高(单线程+同步锁)**

**可行的解法：加同步锁前后两次判断实例是否已存在**

**强烈推荐的解法一：利用静态构造函数**


**强烈推荐的解法二：实现按需创建实例**


### 解法比较
在前面的5种实现单例模式的方法中，
第一种方法在多线程环境中不能正常工作，
第二种模式虽然能在多线程环境中正常工作但时间效率很低，都不是面试官期待的解法。
在第三种方法中我们通过两次判断一次加锁确保在多线程环境能高效率地工作。
第四种方法利用c#的静态构造函数的特性，确保只创建一个实例。
第五种方法利用私有嵌套类型的特性，做到只在真正需要的时候才会创建实例，提高空间使用效率。如果在面试中给出第四种或者第五种解法，毫无疑问会得到面试官的青睐。

